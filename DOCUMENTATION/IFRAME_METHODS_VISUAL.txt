â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           IFRAME COMMUNICATION METHODS - VISUAL GUIDE                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

YOUR QUESTION:
"When multiplier is running in iframe window, what other methods can we use?"

ANSWER:
You have 10 different methods to communicate with the iframe.

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          THE 10 METHODS                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£ POSTMESSAGE (Currently Being Used)
   â€¢ What: Send structured messages back-and-forth with iframe
   â€¢ Best: Cross-origin, secure, two-way communication
   â€¢ Speed: Medium â±ï¸ | Reliability: â­â­â­

2ï¸âƒ£ MUTATION OBSERVER (Real-Time DOM Changes)
   â€¢ What: Watch for DOM changes automatically
   â€¢ Best: Real-time multiplier tracking (AUTOMATIC UPDATES)
   â€¢ Speed: FAST âš¡ | Reliability: â­â­â­â­

3ï¸âƒ£ CLICK SIMULATION (Trigger User Actions)
   â€¢ What: Simulate user clicks on buttons/elements
   â€¢ Best: Trigger "Place Bet", "Cash Out", etc.
   â€¢ Speed: FAST âš¡ | Reliability: â­â­â­

4ï¸âƒ£ WINDOW OBJECT ACCESS (Direct JavaScript APIs)
   â€¢ What: Access JavaScript objects exposed by iframe
   â€¢ Best: Direct access to game state objects
   â€¢ Speed: INSTANT âš¡âš¡ | Reliability: â­â­â­

5ï¸âƒ£ CALL IFRAME FUNCTION (Execute Code)
   â€¢ What: Call JavaScript functions exposed by iframe
   â€¢ Best: Execute game functions with parameters
   â€¢ Speed: Medium â±ï¸ | Reliability: â­â­â­

6ï¸âƒ£ REGEX TEXT SEARCH (Pattern Matching)
   â€¢ What: Search iframe text for patterns
   â€¢ Best: Last-resort extraction when nothing else works
   â€¢ Speed: SLOW ğŸ¢ | Reliability: â­â­

7ï¸âƒ£ CONSOLE INTERCEPTION (Capture Debug Logs)
   â€¢ What: Intercept iframe console.log calls
   â€¢ Best: Extract data from debug logging
   â€¢ Speed: Medium â±ï¸ | Reliability: â­â­

8ï¸âƒ£ STORAGE WATCHER (Monitor State Changes)
   â€¢ What: Monitor localStorage/sessionStorage changes
   â€¢ Best: Track persistent game state
   â€¢ Speed: Medium â±ï¸ | Reliability: â­â­â­

9ï¸âƒ£ PERFORMANCE OBSERVER (Network Monitoring)
   â€¢ What: Monitor network requests and API calls
   â€¢ Best: Understand what data iframe is requesting
   â€¢ Speed: SLOW ğŸ¢ | Reliability: â­â­â­

ğŸ”Ÿ MULTI-METHOD FALLBACK (Try All Automatically)
   â€¢ What: Automatically try all methods until one works
   â€¢ Best: MOST RELIABLE - Never fails, finds best method
   â€¢ Speed: Medium â±ï¸ | Reliability: â­â­â­â­â­

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    QUICK SELECTION GUIDE                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

What Do You Want To Do?
â”œâ”€ Extract multiplier value once
â”‚  â””â”€â†’ Use Method 10 (Multi-Method Fallback) âœ… MOST RELIABLE
â”‚
â”œâ”€ Monitor multiplier in real-time
â”‚  â”œâ”€â†’ Use Method 2 (Mutation Observer) âœ… BEST & FASTEST
â”‚  â””â”€â†’ Use Method 1 (PostMessage) âœ… IF IFRAME SUPPORTS IT
â”‚
â”œâ”€ Trigger game action (bet, cash out)
â”‚  â”œâ”€â†’ Use Method 3 (Click Simulation) âœ… EASIEST
â”‚  â””â”€â†’ Use Method 5 (Call Function) âœ… IF FUNCTION EXISTS
â”‚
â”œâ”€ Access game state directly
â”‚  â””â”€â†’ Use Method 4 (Window Object) âœ… INSTANT
â”‚
â”œâ”€ Don't know what to do?
â”‚  â””â”€â†’ Use Method 10 (Multi-Method) âœ… AUTOMATIC SELECTION
â”‚
â””â”€ Debug/explore iframe
   â”œâ”€â†’ Use testAllMethods() âœ… SEE WHAT WORKS
   â””â”€â†’ Use observePerformance() âœ… SEE NETWORK CALLS

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    GETTING STARTED                                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STEP 1: Test What Works
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
import { testAllMethods } from '@/lib/iframe-communication';
await testAllMethods(iframeRef);
â†’ Shows which methods work with YOUR iframe

STEP 2: Use Best Method
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
import { extractMultiplierMultiMethod } from '@/lib/iframe-communication';
const result = await extractMultiplierMultiMethod(iframeRef);
console.log('Multiplier:', result.value, 'Method:', result.method);

STEP 3: For Real-Time Monitoring
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
import { setupMutationObserver } from '@/lib/iframe-communication';
setupMutationObserver(iframeRef, '.multiplier', (old, new) => {
  console.log('Multiplier changed:', new);
});

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    FILES TO READ                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

START HERE:
â†’ IFRAME_METHODS_INDEX.md (navigation & quick links)

LEARN DETAILS:
â†’ COMMUNICATION_METHODS_SUMMARY.md (overview & when to use)
â†’ IFRAME_COMMUNICATION_METHODS.md (detailed guide to all 10)

TEST & DEBUG:
â†’ TEST_IFRAME_METHODS.md (how to test each method)

IMPLEMENT:
â†’ src/lib/iframe-communication.ts (the actual code)

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    QUICK CODE REFERENCE                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Test all methods
await testAllMethods(iframeRef);

// Automatic best method
const result = await extractMultiplierMultiMethod(iframeRef);

// Send message to iframe
await sendPostMessage(iframeRef, { type: "GET_MULTIPLIER" });

// Monitor for changes
setupMutationObserver(iframeRef, '.multiplier', (old, new) => {});

// Click a button
simulateClick(iframeRef, 'button.place-bet');

// Access object
await accessWindowObject(iframeRef, 'Game.state');

// Call function
await callIframeFunction(iframeRef, 'Game.getMultiplier');

// Search text
searchIframeText(iframeRef, /(\d+\.\d+)x/);

// Watch storage
watchStorage(iframeRef, (key, value) => {});

// Monitor network
observePerformance(iframeRef);

// Intercept logs
interceptConsole(iframeRef, (msg) => msg.includes('multiplier'));

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Version: 1.0
Status: âœ… Complete & Ready to Use
Created: 2025-11-25

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
